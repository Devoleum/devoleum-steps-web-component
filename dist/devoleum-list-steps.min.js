const template=document.createElement("template");template.innerHTML=`
  <style>
  .user-card {
		font-family: 'Arial', sans-serif;
		background: #f4f4f4;
		max-width: 1000px;
		display: grid;
		grid-template-columns: 200px 2fr;
		grid-gap: 10px;
		margin-bottom: 15px;
    box-shadow: 0 0.75rem 1.5rem rgba(18, 38, 63, 0.03);
    transition: all 0.3s ease-out;
    transform: translateZ(0);
    margin-bottom: 15px;
	}

  @media (max-width: 767px) {
    .user-card {
      grid-template-columns: none;
    }

    .user-card img {
      padding-top: 15px;
      margin: auto;
    }
  }
  
  

  .user-card:hover {
    box-shadow: rgba(45, 45, 45, 0.05) 0px 2px 2px,
      rgba(49, 49, 49, 0.05) 0px 4px 4px, rgba(42, 42, 42, 0.05) 0px 8px 8px,
      rgba(32, 32, 32, 0.05) 0px 16px 16px, rgba(49, 49, 49, 0.05) 0px 32px 32px,
      rgba(35, 35, 35, 0.05) 0px 64px 64px;
    transform: translate(0, -4px);
  }

	.user-card img {
    width: 200px;
    height: 200px;
    objectFit: cover;
	}

  .user-card-details {
    padding: 10px;
  }

  .call-action {
    padding-top: 15px;
    display: block;
  }


  </style>
  <div>
   
  </div>
`;class DevoleumSteps extends HTMLElement{constructor(){super(),this.lang=navigator.language.substring(0,2),this.showInfo=!0,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(template.content.cloneNode(!0)),this.historyId=this.getAttribute("historyId"),this.apiPath=this.getAttribute("apiPath"),this.steps=[],this.populate(),this.steps.sort(function(e,a){var b=new Date(e.date),c=new Date(a.date);return b-c})}selLang=async a=>(void 0===a[this.lang]&&a.en,a[this.lang]);populate=async()=>{const a=await fetch(`${this.apiPath}api/steps/history/${this.historyId}/steps`);this.steps=await a.json(),this.steps.forEach(async a=>{const b=await fetch(a.uri),c=await b.json(),d=await this.selLang(c);let e=document.createElement("div"),f=document.createElement("img");f.src=d.image,e.appendChild(f);let g=document.createElement("div");e.appendChild(g),e.classList.add("user-card"),g.classList.add("user-card-details");let i=document.createElement("H3"),h=document.createTextNode(d.name),j=document.createTextNode(`${d.date} - ${d.description}`);i.appendChild(h);var k=document.createElement("a");k.classList.add("call-action");var l=document.createTextNode("it"===this.lang?"Scopri di pi\xF9":"Read more");k.appendChild(l),k.title="it"===this.lang?"Scopri di pi\xF9":"Read more",k.href=`https://app.devoleum.com/step/${a._id}`,k.setAttribute("target","_blank"),g.appendChild(i),g.appendChild(j),g.appendChild(k),this.shadowRoot.appendChild(e)})};toggleInfo(){this.showInfo=!this.showInfo;const a=this.shadowRoot.querySelector(".info"),b=this.shadowRoot.querySelector("#toggle-info");this.showInfo?(a.style.display="block",b.innerText="Hide Info"):(a.style.display="none",b.innerText="Show Info")}connectedCallback(){this.shadowRoot.querySelector("#toggle-info").addEventListener("click",()=>this.toggleInfo())}disconnectedCallback(){this.shadowRoot.querySelector("#toggle-info").removeEventListener()}}window.customElements.define("devoleum-steps",DevoleumSteps);